{
  "in_data_path": "../privatehub/interviews/outcomes-ai/20241105/data_adj.jsonl",
  "out_data_path": "./_element_mr_text.admission_note.jsonl",
  "in_text_cols": [
    "allergies",
    "diagnosis",
    "encounters",
    "labs",
    "medications",
    "notes",
    "patient",
    "procedures",
    "visits"
  ],
  "output_col": "results",
  "port": "8765",
  "llm": {
    "api_type": "openai",
    "api_url": null,
    "api_key": "",
    "api_version": "null",
    "model": "gpt-4o-mini",
    "sampling": true, 
    "temperature": 0.0,
    "top_p": 0.0001,
    "seed": 2
  },
  "runner": {
    "map": {
      "role": "You are a clinical expert. ",
      "instructions": [
        {
          "name": "demography",
          "content": "Extract patient's demography info.",
          "scope": null
        },
        {
          "name": "allergies",
          "content": "Extract patient's allergies.",
          "scope": null
        },
        {
          "name": "latest_reason_to_visit",
          "content": "Extract patient's latest encounter's cheif complaints.",
          "scope": null
        },
        {
          "name": "illness_history",
          "content": "Extract illness from patient's historical SOAP notes.",
          "scope": null
        },
        {
          "name": "medication_history",
          "content": "Extract patient's medication history.",
          "scope": null
        },
        {
          "name": "diagnosis_history",
          "content": "Extract patient's diagnosises with datetime.",
          "scope": null
        },
        {
          "name": "lab_tests",
          "content": "Extract lab test results the patient had finished.",
          "scope": null
        },
        {
          "name": "vital_signs",
          "content": "Extract all vital signs of the patient",
          "scope": null
        },
        {
          "name": "notes",
          "content": "Extract all historical clinical notes.",
          "scope": null
        }
      ]
    },
    "reduce": {
      "role": "You are a clinical expert. ",
      "instructions": [
        {
          "name": "Demography",
          "input_desc": "JSON data of patient's demography.",
          "output_desc": "A concise natural language description of the input.",
          "content": null,
          "scope": ["demography"]
        },
        {
          "name": "Subjective",
          "input_desc": "JSON data of patient's historical clinical notes, like progress note, admission note and discharge note.",
          "output_desc": "A concise discription of subjective parts of patient's historical notes.",
          "content": null,
          "scope": ["notes", "encounters"]
        },
        {
          "name": "Objective",
          "input_desc": "A JSON which represent patient's historical data of medication, allergies, vital signs, lab tests.",
          "output_desc": "The natural language which lists key items in the input concisely.", 
          "content": null,
          "scope": ["medication_history", "allergies", "vital_signs", "lab_tests", "notes"]
        },
        {
          "name": "Assessment",
          "input_desc": "A JSON which represents patients historical data of diagnosis.",
          "output_desc": "The name of diagnosis, illness, and abnormal findings mentioned in the input.",
          "content": null,
          "scope": ["diagnosis_history", "notes"]
        },
        {
          "name": "Plan",
          "input_desc": "A JSON which contains all kinds of SOAP notes of a patient",
          "output_desc": "The treatment plans of the patient mentioned in the input.",
          "content": null,
          "scope": ["notes"]
        }
      ]
    }
  }
}
